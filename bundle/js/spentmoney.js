var spentmoney=webpackJsonp_name_([3],{138:function(r,e,t){"use strict";function o(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}var n={USD:{strCode:"USD",eCurrencyCode:1,strSymbol:"$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},GBP:{strCode:"GBP",eCurrencyCode:2,strSymbol:"£",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},EUR:{strCode:"EUR",eCurrencyCode:3,strSymbol:"€",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},CHF:{strCode:"CHF",eCurrencyCode:4,strSymbol:"CHF",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" "},RUB:{strCode:"RUB",eCurrencyCode:5,strSymbol:"pуб.",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:"",strSymbolAndNumberSeparator:" "},BRL:{strCode:"BRL",eCurrencyCode:7,strSymbol:"R$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},JPY:{strCode:"JPY",eCurrencyCode:8,strSymbol:"¥",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},NOK:{strCode:"NOK",eCurrencyCode:9,strSymbol:"kr",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},IDR:{strCode:"IDR",eCurrencyCode:10,strSymbol:"Rp",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" "},MYR:{strCode:"MYR",eCurrencyCode:11,strSymbol:"RM",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},PHP:{strCode:"PHP",eCurrencyCode:12,strSymbol:"P",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},SGD:{strCode:"SGD",eCurrencyCode:13,strSymbol:"S$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},THB:{strCode:"THB",eCurrencyCode:14,strSymbol:"฿",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},VND:{strCode:"VND",eCurrencyCode:15,strSymbol:"₫",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:""},KRW:{strCode:"KRW",eCurrencyCode:16,strSymbol:"₩",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},TRY:{strCode:"TRY",eCurrencyCode:17,strSymbol:"TL",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},UAH:{strCode:"UAH",eCurrencyCode:18,strSymbol:"₴",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},MXN:{strCode:"MXN",eCurrencyCode:19,strSymbol:"Mex$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},CAD:{strCode:"CAD",eCurrencyCode:20,strSymbol:"CDN$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},AUD:{strCode:"AUD",eCurrencyCode:21,strSymbol:"A$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},NZD:{strCode:"NZD",eCurrencyCode:22,strSymbol:"NZ$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},PLN:{strCode:"PLN",eCurrencyCode:6,strSymbol:"zł",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},CNY:{strCode:"CNY",eCurrencyCode:23,strSymbol:"¥",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},INR:{strCode:"INR",eCurrencyCode:24,strSymbol:"₹",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},CLP:{strCode:"CLP",eCurrencyCode:25,strSymbol:"CLP$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},PEN:{strCode:"PEN",eCurrencyCode:26,strSymbol:"S/.",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},COP:{strCode:"COP",eCurrencyCode:27,strSymbol:"COL$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},ZAR:{strCode:"ZAR",eCurrencyCode:28,strSymbol:"R",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" "},HKD:{strCode:"HKD",eCurrencyCode:29,strSymbol:"HK$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},TWD:{strCode:"TWD",eCurrencyCode:30,strSymbol:"NT$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},SAR:{strCode:"SAR",eCurrencyCode:31,strSymbol:"SR",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},AED:{strCode:"AED",eCurrencyCode:32,strSymbol:"AED",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},ARS:{strCode:"ARS",eCurrencyCode:34,strSymbol:"ARS$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},ILS:{strCode:"ILS",eCurrencyCode:35,strSymbol:"₪",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},BYN:{strCode:"BYN",eCurrencyCode:36,strSymbol:"Br",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},KZT:{strCode:"KZT",eCurrencyCode:37,strSymbol:"₸",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},KWD:{strCode:"KWD",eCurrencyCode:38,strSymbol:"KD",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},QAR:{strCode:"QAR",eCurrencyCode:39,strSymbol:"QR",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},CRC:{strCode:"CRC",eCurrencyCode:40,strSymbol:"₡",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:""},UYU:{strCode:"UYU",eCurrencyCode:41,strSymbol:"$U",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:""},RMB:{strCode:"RMB",eCurrencyCode:9e3,strSymbol:"刀币",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:"",strSymbolAndNumberSeparator:" "},NXP:{strCode:"NXP",eCurrencyCode:9001,strSymbol:"원",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""}},s=function(){function r(){o(this,r)}return r.isCurrencySymbolBeforeValue=function(r){return n[r]&&n[r].bSymbolIsPrefix},r.isCurrencyWholeUnits=function(r){return n[r]&&n[r].bWholeUnitsOnly&&"RUB"!==r},r.getCurrencySymbolByCode=function(r){return n[r]?n[r].strSymbol:r},r.getCurrencyIdByCode=function(r){return n[r]?n[r].eCurrencyCode:r},r.getCurrencySymbolFromString=function(r){var e=/(?:AED|ARS\$|A\$|R\$|Br|CDN\$|CHF|CLP\$|¥|COL\$|₡|€|£|HK\$|Rp|₪|₹|¥|₩|KD|₸|Mex\$|RM|kr|원|NZ\$|S\/\.|P|zł|QR|刀币|pуб\.|SR|S\$|฿|TL|NT\$|₴|\$|\$U|₫|R)/,t=r.match(e);return t?t[0]:""},r.getCurrencyCodeFromDOM=function(){var r=document.querySelector('meta[itemprop="priceCurrency"]');return r&&r.hasAttribute("content")?r.getAttribute("content"):null},r.getCurrencyCodeBySymbol=function(r){return Object.keys(n).find(function(e){return n[e].strSymbol===r})||""},r.getCurrencyCodeById=function(r){return Object.keys(n).find(function(e){return n[e].eCurrencyCode===r})||"Unknown"},r.parsePrice=function(e){var t=r.getCurrencySymbolFromString(e),o=r.getCurrencyCodeFromDOM()||r.getCurrencyCodeBySymbol(t),s=n[o],a=s.eCurrencyCode,c=parseFloat(e.replace(",",".").replace(/[^\d.]/g,"").trim());return isNaN(c)?null:{value:100*c,currencyCode:o,currencySign:t,currencyNumber:a}},r.vCurrencyFormat=function(e,t,o){var n=(e/100).toFixed(2);switch(t){case"EUR":return(""+n+r.getCurrencySymbolByCode(t)).replace(".",",").replace(",00",",--");case"GBP":return""+r.getCurrencySymbolByCode(t)+n;case"USD":return void 0!==o&&"US"!==o?""+r.getCurrencySymbolByCode(t)+n+" USD":""+r.getCurrencySymbolByCode(t)+n;case"RUB":return n.replace(".",",").replace(",00","")+" "+r.getCurrencySymbolByCode(t);case"JPY":return r.getCurrencySymbolByCode(t)+" "+n.replace(".00","");case"BRL":case"COP":case"ARS":return r.getCurrencySymbolByCode(t)+" "+n.replace(".",",");case"CLP":return r.getCurrencySymbolByCode(t)+" "+n.replace(".00","").replace(".",",");case"CRC":case"UYU":return""+r.getCurrencySymbolByCode(t)+n.replace(".00","").replace(".",",");case"NOK":case"PLN":return n.replace(".",",")+" "+r.getCurrencySymbolByCode(t);case"SAR":case"AED":case"CHF":case"KWD":case"QAR":return n+" "+r.getCurrencySymbolByCode(t);case"IDR":return r.getCurrencySymbolByCode(t)+" "+n;case"MYR":case"PHP":case"SGD":case"THB":case"CNY":case"INR":case"ZAR":case"ILS":case"BYN":return""+r.getCurrencySymbolByCode(t)+n;case"KRW":case"KZT":return""+r.getCurrencySymbolByCode(t)+n.replace(".00","");case"MXN":case"CAD":case"AUD":case"NZD":case"PEN":case"HKD":case"TWD":return r.getCurrencySymbolByCode(t)+" "+n;case"VND":return""+n.replace(".00","")+r.getCurrencySymbolByCode(t);default:return n+" "+t}},r.getPriceValueAsInt=function(e){if(!e)return 0;var t=r.getCurrencySymbolFromString(e),o=r.getCurrencyCodeBySymbol(t),s=e.replace(/,/g,".").replace(t,"").replace(o,"").replace(".--",".00").replace(/ /g,"");if(-1!==s.indexOf(".")){var a=s.split("."),c=a[a.length-1];s=isNaN(c)||3!==c.length||"0"===a[a.length-2]?a.slice(0,-1).join("")+"."+c:a.join("")}var l=100*parseFloat(s),u=Math.floor(isNaN(l)?0:l+1e-6);return u=Math.max(u,0),{value:u,currencyCode:o,currencySign:t,currencyNumber:n[o].eCurrencyCode}},r.formatPrice=function(r,e,t){var o=Math.abs(+r/100||0).toFixed(2),s=""+parseInt(o,10);if(n[e]){var a=n[e],c=s.length>3?s.length%3:0,l=""+(c?s.substr(0,c)+a.strThousandsSeparator:"")+s.substr(c).replace(/(\d{3})(?=\d)/g,"$1"+a.strThousandsSeparator),u=""+a.strDecimalSymbol+Math.abs(o-s).toFixed(2).slice(2),y=""+l+(a.bWholeUnitsOnly?u.replace(a.strDecimalSymbol+"00",""):u),i=a.bSymbolIsPrefix?""+a.strSymbol+a.strSymbolAndNumberSeparator+y:""+y+a.strSymbolAndNumberSeparator+a.strSymbol;return"USD"===e&&void 0!==t&&"US"!==t?i+" USD":"EUR"===e?i.replace(",00",",--"):i}return s+" "+e},r}();e.a=s},139:function(r,e,t){"use strict";function o(r){return function(){var e=r.apply(this,arguments);return new Promise(function(r,t){function o(n,s){try{var a=e[n](s),c=a.value}catch(r){return void t(r)}if(!a.done)return Promise.resolve(c).then(function(r){o("next",r)},function(r){o("throw",r)});r(c)}return o("next")})}}function n(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}var s=t(50),a=t(34),c={},l=function(){function r(){n(this,r)}return r.load=function(){function r(r){return e.apply(this,arguments)}var e=o(regeneratorRuntime.mark(function r(e){var t,o,n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.a.get({currency_rates:{}});case 2:if(t=r.sent,Object.assign(c,t.currency_rates),void 0!==e){r.next=10;break}return r.next=7,s.a.getWalletCurrency();case 7:r.t0=r.sent,r.next=11;break;case 10:r.t0=e;case 11:if(o=r.t0,c[e]&&!(Date.now()-c[e].ts>144e5)){r.next=17;break}return r.next=15,s.a.apiRequest({method:"GET",url:s.b+"/rates",data:{base:o}});case 15:n=r.sent,n.success&&(c[n.data.base]={rates:n.data.rates,ts:Date.now()},a.a.set({currency_rates:c}));case 17:case"end":return r.stop()}},r,this)}));return r}(),r.convert=function(r,e,t){return c[t]?r/c[t].rates[e]:c[e]?r*c[e].rates[t]:null},r}();e.a=l},355:function(r,e,t){"use strict";function o(r){return function(){var e=r.apply(this,arguments);return new Promise(function(r,t){function o(n,s){try{var a=e[n](s),c=a.value}catch(r){return void t(r)}if(!a.done)return Promise.resolve(c).then(function(r){o("next",r)},function(r){o("throw",r)});r(c)}return o("next")})}}function n(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function s(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?r:e}function a(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var c=t(30),l=t.n(c),u=t(54),y=t(50),i=t(138),b=t(139),m=t(34),S=t(45),d=(t(70),0),C=0,p=0,h=0,f=function(r){function e(){return n(this,e),s(this,r.apply(this,arguments))}return a(e,r),e.prototype.onLoad=function(){function r(){return e.apply(this,arguments)}var e=o(regeneratorRuntime.mark(function r(){var e;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,m.a.get({show_spent_money:S.a.show_spent_money});case 2:e=r.sent,e.show_spent_money&&this.addInfo();case 4:case"end":return r.stop()}},r,this)}));return r}(),e.prototype.addInfo=function(){function r(){return e.apply(this,arguments)}var e=o(regeneratorRuntime.mark(function r(){var e,t,o,n,s,a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return l()(".account_setting_block:first .account_setting_sub_block:last").after('<div id="total_expenses" class="account_setting_sub_block">'+i18next.t("controls:loading")+"</div>"),r.next=3,y.a.getWalletCurrency();case 3:return this.userCurrency=r.sent,e=y.a.getSessionID(),r.next=7,b.a.load(this.userCurrency);case 7:t=null,o={l:"en",sessionid:e};case 9:return t&&(o.cursor=t),r.next=12,y.a.sendRequest({method:"POST",url:"//store.steampowered.com/account/AjaxLoadMoreHistory/",data:o});case 12:n=r.sent,t=this.calcSpentMoney(n);case 14:if(t){r.next=9;break}case 15:s=d+C+p+h,a="",d&&(a+='\n        <div class="accountRow accountBalance">\n          <div data-tooltip-content="Click to view purchase &amp; wallet history" class="accountData price">\n            <a href="http://store.steampowered.com/account/history/">'+i.a.vCurrencyFormat(d,this.userCurrency)+'</a>\n          </div>\n          <div class="accountLabel">'+i18next.t("controls:accountinfo.purchases")+":</div>\n        </div>"),C&&(a+='\n        <div class="accountRow accountBalance">\n          <div data-tooltip-content="Click to view purchase &amp; wallet history" class="accountData price">\n            <a href="http://store.steampowered.com/account/history/">'+i.a.vCurrencyFormat(C,this.userCurrency)+'</a>\n          </div>\n          <div class="accountLabel">'+i18next.t("controls:accountinfo.transactions")+":</div>\n        </div>"),p&&(a+='\n        <div class="accountRow accountBalance">\n          <div data-tooltip-content="Click to view purchase &amp; wallet history" class="accountData price">\n            <a href="http://store.steampowered.com/account/history/">'+i.a.vCurrencyFormat(p,this.userCurrency)+'</a>\n          </div>\n          <div class="accountLabel">'+i18next.t("controls:accountinfo.gifts")+":</div>\n        </div>"),h&&(a+='\n        <div class="accountRow accountBalance">\n          <div data-tooltip-content="Click to view purchase &amp; wallet history" class="accountData price">\n            <a href="http://store.steampowered.com/account/history/">'+i.a.vCurrencyFormat(h,this.userCurrency)+'</a>\n          </div>\n          <div class="accountLabel">'+i18next.t("controls:accountinfo.ingame")+":</div>\n        </div>"),s&&(a+='\n        <div class="inner_rule"></div>\n        <div class="accountRow accountBalance">\n          <div data-tooltip-content="Click to view purchase &amp; wallet history" class="accountData price">\n            <a href="http://store.steampowered.com/account/history/">'+i.a.vCurrencyFormat(s,this.userCurrency)+'</a>\n          </div>\n          <div class="accountLabel">'+i18next.t("controls:accountinfo.total")+":</div>\n        </div>"),l()("#total_expenses").html(a);case 23:case"end":return r.stop()}},r,this)}));return r}(),e.prototype.calcSpentMoney=function(r){var e=this,t=l.a.parseHTML(r.html);return l.a.each(t,function(r,t){var o=l()(t).find(".wht_type div:first").text().trim(),n=l()(t).find(".wht_total").text().trim(),s=l()(t).find(".wht_items").text().trim();if(n&&!n.match("Credit")&&o&&!s.match("Wallet Credit")){var a=i.a.parsePrice(n),c=void 0;c=a.currencyCode!==e.userCurrency?b.a.convert(a.value,a.currencyCode,e.userCurrency):a.value,o.match(/^Purchase/)&&(d+=c),o.match("Market Transaction")&&(C+=c),o.match("Gift Purchase")&&(p+=c),o.match("In-Game Purchase")&&(h+=c)}}),r.cursor},e}(u.a);e.default=new f},426:function(r,e,t){t(14),r.exports=t(355)}},[426]);